
# PYTHONPATH must include directory above plugin directory.
#     Define either externally or here, then import plugin.
# The path mast contain the location where vibronic FOLDER lives (NOT the location of the .so)
sys.path.insert(0, '../../')
import vibronic


# 
# We need to create TWO Molecule objects. 
# If we use only one state initially, and the use
#   state1 = get_active_molecule() 
# it creates a pointer to the active molecule. If,
# some manipulations, we try to save another molecule:
#   state2 = get_active_molecule() 
# we end up with another pointer, but which points to the same
# address as state1, so both of them provide the same molecule
# 
molecule state1{
           O          0.000000000000     0.000000000000    -0.066770073122
           H          0.000000000000    -0.764083917806     0.529844757149
           H         -0.000000000000     0.764083917806     0.529844757149
}

molecule state2{
           O         -0.000000000000     0.000000000000    -0.104550543210
           H          0.000000000000    -0.786222962791     0.829646495600
           H         -0.000000000000     0.786222962791     0.829646495600
}

set {
  print 3
  basis 6-31G(d)
}

# Excites state options
set roots_per_irrep = [2,0,0,0]
set cclambda {
  r_convergence 1e-3
}
set cceom {
  r_convergence 1e-3
  e_convergence 1e-5
}

# Options for spectra computation
set vibronic {
  print 1
  temperature 300.0
  broad_hwhm 0.01
  corr_npoints 4096
}

# Perform optimizations and save states
vibronic.run_vibronic(state1,state2,"ccsd","eom-ccsd")

